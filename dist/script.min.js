var tasks=[];function Task(t,e,a){this.name=t,this.status=e,this.id=a}function addTask(){var t=document.getElementById("inputName").value,e="Em andamento";t?(t=new Task(t,e,tasks.length+1),tasks.push(t),updateTaskList(),document.getElementById("inputName").value=""):alert("Por favor, preencha todos os campos.")}function editTaskName(e){var t,a=tasks.find(t=>t.id==e);a&&(null!==(t=prompt("Digite o novo nome da Tarefa: "))&&""!==t.trim()?(a.name=t,updateTaskList()):alert("O novo nome da tarefa não pode ser vazio."))}function editTaskStatus(e){var t,a=tasks.find(t=>t.id===e);a?(t=(t=document.getElementById("statusSelect_"+e)).options[t.selectedIndex].value,a.status=t,updateTaskList()):alert("Ops! Algo de errado aconteceu!")}function removeTask(e){var t=tasks.findIndex(t=>t.id==e);-1!==t?(tasks.splice(t,1),updateTaskList()):alert("Tarefa não encontrada!")}function listTasks(){updateTaskList()}function getTaskById(){var e=document.getElementById("inputId").value,t=tasks.find(t=>t.id==e);t?alert(`Tarefa encontrada: ${t.id} - ${t.name}, `+t.status):alert("Tarefa não encontrada!")}function updateTaskList(){var a=document.getElementById("taskList");a.innerHTML="",tasks.forEach(function(t){var e=document.createElement("li");"Concluído"===t.status?e.classList.add("concluido"):"Atrasado"===t.status&&e.classList.add("atrasado"),e.innerHTML=`
    <div>
            <span>${t.id} - ${t.name}, ${t.status}</span>
    </div>
    <div>
<!-- Modificação: Adiciona um menu suspenso (select) para o status -->
        Status: <select class="" id="statusSelect_${t.id}" onchange="editTaskStatus(${t.id})">
          <option value="Em Andamento" ${"Em Andamento"===t.status?"selected":""}>Em Andamento</option>
          <option value="Atrasado" ${"Atrasado"===t.status?"selected":""}>Atrasado</option>
          <option value="Concluído" ${"Concluído"===t.status?"selected":""}>Concluído</option>
        </select>
            <button class="btn" onclick="editTaskName(${t.id})">Editar Nome</button>
            <button class="btn" onclick="removeTask(${t.id})">Remover</button>
        </div>
        `,a.appendChild(e)})}document.getElementById("addTaskBtn").addEventListener("click",addTask),document.getElementById("listTasksBtn").addEventListener("click",listTasks),document.getElementById("getTaskByIdBtn").addEventListener("click",getTaskById);const input=document.getElementById("input"),lista=document.getElementById("lista");function salvarLista(){const e=[];lista.querySelectorAll("li").forEach(t=>{e.push(t.innerText)}),localStorage.setItem("listaTarefas",JSON.stringify(e))}function enviaTarefa(){if(""!==input.value&&null!==input.value&&void 0!==input.value){const e=document.createElement("li");e.innerText=input.value;var t=document.createElement("button");t.innerText="x",t.onclick=function(){lista.removeChild(e),salvarLista()},e.appendChild(t),lista.appendChild(e),input.value="",salvarLista()}else alert("Digite uma tarefa válida")}window.onload=function(){localStorage.getItem("listaTarefas")&&JSON.parse(localStorage.getItem("listaTarefas")).forEach(t=>{const e=document.createElement("li");e.innerText=t;t=document.createElement("button");t.innerText="x",t.onclick=function(){lista.removeChild(e),salvarLista()},e.appendChild(t),lista.appendChild(e),input.value=""})},input.addEventListener("keypress",function(t){"Enter"===t.key&&enviaTarefa()});